!function(X,v){"use strict";var K="ht",T=X[K],x="px",Q="left",u="top",G="bottom",t="right",c="innerHTML",N="className",C="",b="width",H="height",Y="string",S="position",g="absolute",J="0",I="opacity",f="background",P=T.Default,O=P.getInternal(),k=T.Color,z=P.animate,e=P.isTouchable,r=P.isTouchEvent,A=null,q=(Math.sqrt,X.parseInt),s=X.setTimeout,M=(Math.round,k.titleIconBackground),W=function(I){return typeof I===Y||I instanceof String},o=function(){return document},l=function(E){return o().createElement(E)},$=function(){var E=l("div");return E.tabIndex=-1,E.style.outline="none",E},j=function(){return l("canvas")},V=function(e,T){m(e,"-webkit-transform",T),m(e,"-ms-transform",T),m(e,"transform",T)},m=function(T,M,m){T.style.setProperty(M,m,A)},L=function(V,J,$){P.def(T.widget[V],J,$)},E=function(Z,p){Z.appendChild(p)},F=function(){return o().documentElement},h=function(){return F().clientWidth},D=function(){return F().clientHeight},Z=O.addEventListener,n=O.removeEventListener,p=function(s){var t=s.touches[0];return t?t:s.changedTouches[0]};O.addMethod(P,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:M},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:M}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:M},{type:"rect",rect:[10,10,80,20],background:M}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:M},{type:"rect",rect:[10,34,56,14],background:M},{type:"rect",rect:[34,10,56,14],background:M},{type:"rect",rect:[82,10,8,56],background:M},{type:"rect",rect:[66,62,24,8],background:M}]},dialogTitleLabelColor:P.labelSelectColor,dialogTitleLabelFont:(e?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:P.labelFont,dialogTitleBackground:k.titleBackground,dialogHeaderBackground:k.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var R=function(m){var o=this;o.$1d=m,o.addListeners()};P.def(R,v,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(u){var S=this,L=S.$1d,K=L.$6d,H=L._config,b=L.$7d,f=u,I=u.target;if(b.contains(I)||P.preventDefault(u),P.isLeftButton(u)){r(u)&&(f=p(u));var W=S.$8d={x:f.pageX,y:f.pageY};S.$9d={x:W.x,y:W.y},!H.maximized&&H.draggable&&K.contains(I)&&(S.$4d=!0,P.startDragging(S,u)),S.handle_mousemove(u)&&(S.$2d=!0,P.startDragging(S,u)),b.contains(u.target)||L.$41d.focus()}},handle_mousedown:function(v){this.handle_touchstart(v)},handle_touchend:function(I){if(P.isLeftButton(I)&&!this.$5d&&!this.$3d){var g=this,B=g.$1d,v=I.target,f=B._config,W=B.$18d,$=B.$16d;for(f.closable&&W.contains(v)&&B.hide(),f.maximizable&&$.contains(v)&&(f.maximized?B.restore():B.maximize());v&&(v.className||"").indexOf("dialog-button")<0;)v=v.parentNode;v&&v.buttonItem&&B.action&&B.action(v.buttonItem,I),delete g.$8d,delete g.$9d}},handle_mouseup:function(Z){this.handle_touchend(Z)},handleWindowTouchEnd:function(B){var F=this,p=F.$1d,d=p.$10d;F.$2d&&F.$3d?d.fire({kind:"endResize",target:p,originEvent:B}):F.$4d&&F.$5d&&d.fire({kind:"endMove",target:p,originEvent:B}),this.clear()},handleWindowMouseUp:function(X){this.handleWindowTouchEnd(X)},handle_mousemove:function(v){var j=this.$1d._config;if(j.maximized)return!1;if("w"!==j.resizeMode&&"h"!==j.resizeMode&&"wh"!==j.resizeMode)return!1;var i=this,W=i.getView(),F=W.querySelector(".resize-area"),$=F.getBoundingClientRect(),V={x:$.left,y:$.top,width:$.width,height:$.height};v=r(v)?p(v):v;var c=v.clientX,B=v.clientY,x={x:c,y:B};return P.containsPoint(V,x)?(m(W,"cursor","nwse-resize"),!0):(m(W,"cursor",C),void 0)},handleWindowTouchMove:function(g){g.preventDefault();var H=g;r(g)&&(H=p(g));var M=this,k=M.$8d,$=M.$9d;if(!($.x==k.x&&$.y==k.y&&P.getDistance($,{x:H.pageX,y:H.pageY})<=1)){var K=M.$1d,E=K._config,y=K.$21d,e=E.resizeMode||"wh",o=H.pageX-k.x,n=H.pageY-k.y;if(M.$2d){var Z=y.offsetWidth,J=y.offsetHeight,d=Z+o,T=J+n;if(d=Math.max(d,50),T=Math.max(T,50),"center"===E.position||E.position==A){var B={},U=y.getBoundingClientRect();B.x=U.left,B.y=U.top,E.position=B}"w"===e?(K.setSize(d,J),k.x+=d-Z):"h"===e?(K.setSize(Z,T),k.y+=T-J):"wh"===e&&(K.setSize(d,T),k.x+=d-Z,k.y+=T-J),M.$3d?K.$10d.fire({kind:"betweenResize",target:K,originEvent:g}):(M.$3d=!0,K.$10d.fire({kind:"beginResize",target:K,originEvent:g}))}else if(M.$4d){var W=y.getBoundingClientRect(),b=W.width,G=W.height,R=h(),C=D(),t=q(y.style.left)||0,w=q(y.style.top)||0,z=t+o,v=w+n,N=K.adjustPosition({x:z,y:v},{width:b,height:G},{width:R,height:C});N&&(z=N.x,v=N.y);var O=z-t,f=v-w;m(y,Q,z+x),m(y,u,v+x),k.x+=O,k.y+=f,E.position={x:z,y:v},M.$5d?K.$10d.fire({kind:"betweenMove",target:K,originEvent:g}):(M.$5d=!0,K.$10d.fire({kind:"beginMove",target:K,originEvent:g}))}}},handleWindowMouseMove:function(Q){this.handleWindowTouchMove(Q)},handleWindowResize:function(){var N=this,_=N,A=_._config,w=_.$21d,E=h(),V=D(),l=A.width,s=A.height,g=A.position||"center";A.maximized?(m(w,b,E+x),m(w,H,V+x),m(w,u,J),m(w,Q,J)):(m(w,b,l+x),m(w,H,s+x),"center"===g?(m(w,Q,(E-l)/2+x),m(w,u,(V-s)/2+x)):(m(w,Q,g.x+x),m(w,u,g.y+x))),_.iv()},handle_mousewheel:function(q){q.stopPropagation()},handle_DOMMouseScroll:function(P){P.stopPropagation()}}),T.widget.Dialog=function(z){var i=this,b=i._view=O.createView(null,i);b[N]="ht-widget-dialog",m(b,S,g),P.baseZIndex!=A&&m(b,"z-index",P.baseZIndex+"");var r=i.$11d=new R(i);i.bindingHandleWindowResize=r.handleWindowResize.bind(i),i.$10d=new T.Notifier,z&&i.setConfig(z)},L("Dialog",v,{ms_v:1,ms_fire:1,setTitle:function(S){this._config.title=S,this.getView().querySelector(".dialog-container-title span").innerHTML=S},clearNodes:function(O){if(O)for(;O.firstChild;)O.removeChild(O.firstChild)},$31d:function(){var r=this,w=r.$6d=$(),e=r._config,_=r.$12d=r.$13d();w[N]="dialog-container-title",m(w,"cursor","default"),m(w,"white-space","nowrap"),m(w,"overflow","hidden"),m(w,"font",P.dialogTitleLabelFont),m(w,f,e.titleBackground||P.dialogTitleBackground),m(w,"color",e.titleColor||P.dialogTitleLabelColor);var o=l("span"),k=r.$25d();if(e.titleAlign&&m(w,"text-align",e.titleAlign),e.titleIcon){var p=r.$14d=r.$15d();E(w,p)}if(e.title&&e.title.trim&&(e.title=e.title.trim()),o[c]=e.title||"&nbsp;",E(w,o),e.maximizable){var y=r.$16d=r.$17d();E(_,y)}if(e.closable){var A=r.$18d=r.$19d();E(_,A)}return E(w,_),m(w,"display","block"),m(w,"line-height",k+x),w},$13d:function(){var R=$();return m(R,S,g),m(R,Q,J),m(R,t,5+x),m(R,u,J),m(R,G,J),m(R,"text-align",t),m(R,"white-space","nowrap"),R[N]="dialog-title-controls",R},$20d:function(){var s=this.$21d=$(),j=this._config,E=j.borderWidth;return m(s,S,"fixed"),m(s,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),m(s,"padding",J+" "+E+x+" "+E+x+" "+E+x),m(s,"box-sizing","border-box"),m(s,"-moz-box-sizing","border-box"),s[N]="dialog-container",m(s,f,j.titleBackground||P.dialogTitleBackground),s},$22d:function(){var F,n=this,l=n._config,_=n.$7d=$(),o=l.content,X=0,B=l.contentPadding||0;l.buttons!=A&&l.buttons.length>0&&(X=32),W(o)?_[c]=o:o.getView?(F=o.getView(),E(_,F)):(F=o,E(_,F)),m(_,S,g),m(_,"font",P.dialogContentLabelFont),T.Default.appendToScreen(_);var D=_.offsetWidth+1,M=_.offsetHeight,j=n.$25d();return l.width==A&&(l.width=D+10+2*B),l.height==A&&(l.height=M+j+X+5+2*B),T.Default.removeHTML(_),F&&(m(F,"box-sizing","border-box"),m(F,"-moz-box-sizing","border-box"),m(F,b,"100%"),m(F,H,"100%")),_[N]="dialog-content",m(_,u,j+B+x),m(_,G,X+B+x),m(_,Q,B+x),m(_,t,B+x),m(_,"overflow","hidden"),_},getOverlayDiv:function(){return this.$41d},$23d:function(){var F=this.$41d=$();return F[N]="dialog-overlay",m(F,b,"100%"),m(F,H,"100%"),m(F,S,"fixed"),m(F,u,J),m(F,Q,J),m(F,f,"rgba(235, 235, 235, 0.7)"),F},_config:A,setSize:function(T,B){var k=this,M=k._config;M&&(M.width=T,M.height=B,k.isShowing()&&(k.bindingHandleWindowResize(),k.iv()))},getConfig:function(){return this._config},$24d:function(){var X=this._config,M=X.titleIconSize||16;return e&&(M*=1.2),M},$25d:function(){var b=this._config,E=b.titleHeight||P.widgetTitleHeight;return E},$26d:function(H){m(H,"cursor","pointer"),m(H,"display","inline-block"),m(H,"margin-right",(e?8:4)+x),m(H,"vertical-align",u)},$27d:function(){var U=this.$30d=$(),P=10;return e&&(P=20),m(U,b,P+x),m(U,H,P+x),m(U,S,g),m(U,G,J),m(U,t,J),U[N]="resize-area",U},$15d:function(){var G=this,H=j();H[N]="dialog-title-control dialog-title-control-icon";var M=G.$25d(),p=G.$24d();return G.$26d(H),O.setCanvas(H,p,M),H},$17d:function(){var z=j();z[N]="dialog-title-control dialog-title-control-maximize";var W=this.$25d(),Q=this.$24d();return this.$26d(z),O.setCanvas(z,Q,W),z},$19d:function(){var K=j();K[N]="dialog-title-control dialog-title-control-close";var e=this.$25d(),_=this.$24d();return this.$26d(K),O.setCanvas(K,_,e),K},$28d:function(){var U=$();return m(U,f,P.dialogContentBackground||"white"),m(U,b,"100%"),m(U,H,"100%"),m(U,S,"relative"),U},$29d:function(){var W=this,D=$();m(D,"line-height",32+x),m(D,S,g),m(D,G,J),m(D,Q,J),m(D,"white-space","nowrap"),m(D,"overflow","hidden"),m(D,t,J),m(D,f,P.dialogHeaderBackground),D[N]="dialog-container-buttons";var K=this._config,F=K.buttonsAlign||t,M=0;return m(D,"text-align",F),W.$42d=[],K.buttons.forEach(function(G){var j=new T.widget.Button,J=j.getView();J[N]="dialog-button "+G.className,J.buttonItem=G,W.$42d.push(j),j.setBorderColor(A),j.setBackground(P.dialogButtonBackground),j.setSelectBackground(P.dialogButtonSelectBackground),j.setLabelColor(P.dialogButtonLabelColor),m(J,S,"relative"),m(J,"display","inline-block"),m(J,"text-align",Q),m(J,"height",24+x);var U=e?10:5;F===Q||F===t?m(J,"margin-"+F,U+x):0===M||m(J,"margin-"+Q,U+x),m(J,"vertical-align","middle");var $=P.getTextSize(j.getLabelFont(),G.label).width+10;j.onClicked=function(n){G.action&&G.action.call(W,G,n)},j.setLabel(G.label),j.setDisabled(G.disabled),m(J,b,$+x),E(D,j.getView()),M++}),D},setConfig:function(m){if(m){var p=this,O=p._view;p._config=m,p.action=m.action,p.clearNodes(O),m.borderWidth==A&&(m.borderWidth=5);var x=p.$23d(),f=p.$28d(),X=p.$31d(),F=p.$22d(),H=p.$20d(),c=p.$30d=p.$27d();if(E(O,x),E(O,H),E(H,f),E(f,X),E(f,F),m.buttons!=A&&m.buttons.length>0){var t=p.$29d();E(f,t)}E(H,c),m.maximized?(m.maximized=!1,p.bindingHandleWindowResize(),p.maximize(!0)):p.bindingHandleWindowResize(),p.isShowing()&&p.iv()}},hide:function(){var e=this,j=e.$21d,C=e.$41d,f=e._view;f[N]="ht-widget-dialog",z(j).duration(200).scale(.7).set(I,J).end(function(){e.onHidden&&e.onHidden(),T.Default.removeHTML(f),e.$10d.fire({kind:"hide",target:e})}),z(C).duration(200).set(I,J).end(),n(X,"resize",e.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(S){this.$41d.style.display=S?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var M=this,s=M._config,L=M.$21d;V(L,C),M.iv(),s.maximized?M.$10d.fire({kind:"maximize",target:M}):M.$10d.fire({kind:"restore",target:M})},maximize:function(O){var I=this,M=I.$21d,w=I._config;if(!w.maximized){w.maximized=!0,I.$33d(),I.$16d[N]="dialog-title-control dialog-title-control-minimize";var a=h(),y=D(),T=w.width,F=w.height,o=q(M.style.left)||0,n=q(M.style.top)||0;I.$36d=T,I.$37d=F,I.$34d=o,I.$35d=n;var g=O?0:200;z(M).duration(g).set(Q,J).set(u,J).set(b,a+x).set(H,y+x).end(function(){I.$32d()})}},restore:function(){var i=this,V=i.$34d,s=i.$35d,C=i.$36d,Z=i.$37d,j=i._config;if(j.maximized&&(j.maximized=!1,i.$33d(),i.$16d[N]="dialog-title-control dialog-title-control-maximize",i.isShowing()&&V!=A&&s!=A&&C!=A&&Z!=A)){var c=i.$21d;z(c).duration(200).set(Q,V+x).set(u,s+x).set(b,C+x).set(H,Z+x).end(function(){i.$32d()})}delete i.$34d,delete i.$35d,delete i.$36d,delete i.$37d},show:function(){var M=this,B=M._view,q=M._config,f=M.$21d,t=M.$41d;q&&q.zIndex!=A&&m(B,"z-index",q.zIndex+C),T.Default.appendToScreen(B),V(f,"scale(0.7)"),m(f,I,J),M.iv(),M.validate(),M._view[N]+=" dialog-show",s(function(){z(f).duration(200).scale(1).set(I,"1").end(function(){m(f,b,f.clientWidth+x),m(f,H,f.clientHeight+x),M.onShown&&M.onShown(),M.$10d.fire({kind:"show",target:M});var O=q&&q.content;O&&O.iv&&O.iv()}),z(t).duration(200).set(I,"1").end(),Z(X,"resize",M.bindingHandleWindowResize)},30)},setPosition:function(L){var b=this.$21d;b.style.left=L.x+"px",b.style.top=L.y+"px"},addEventListener:function(z,I,c){this.$10d.add(z,I,c)},removeEventListener:function(C,S){this.$10d.remove(C,S)},$38d:function(d,h,R,Y){var y=O.initContext(d);O.translateAndScale(y,0,0,1),y.clearRect(0,0,R,R);var B=(R-Y)/2;P.drawStretchImage(y,P.getImage(h),"fill",0,B,Y,Y),y.restore()},$33d:function(){var X=this,x=X._config,U=X.$16d,_=x.maximized?P.dialogRestoreIcon:P.dialogMaximizeIcon;if(U&&_){var h=X.$25d(),V=X.$24d();X.$38d(U,P.getImage(_),h,V)}},$39d:function(){var B=this,W=B._config,e=B.$14d,t=W.titleIcon;if(e&&t){var y=B.$25d(),T=B.$24d();B.$38d(e,P.getImage(t),y,T)}},$40d:function(){var O=this,d=O.$18d,f=P.dialogCloseIcon;if(d&&f){var E=O.$25d(),l=O.$24d();O.$38d(d,P.getImage(f),E,l)}},invalidate:function(j){var k=this,h=k.$42d;k._68I||(k._68I=1,P.callLater(k.validate,k,A,j),k.onInvalidated&&k.onInvalidated(),k.fireViewEvent("invalidate"));var f=k._config.content;f.invalidate&&f.invalidate(),h&&h.forEach(function(J){J.iv()})},validateImpl:function(){var e=this;e.$40d(),e.$33d(),e.$39d();var N=e._config.content;N.initView&&(N.setX(0),N.setY(0),N.setWidth(e.$7d.clientWidth),N.setHeight(e.$7d.clientHeight))},adjustPosition:function(V,H,O){var B=H.width,w=H.height,i=O.width,L=O.height,b=V.x,o=V.y,h=this._config,p=h.minDragSize||20;return"inside"===h.dragMode?(b+B>i&&(b=i-B),o+w>L&&(o=L-w),0>b&&(b=0),0>o&&(o=0)):(null==h.dragMode||"none"===h.dragMode)&&(-B+p>b&&(b=-B+p),b>i-p&&(b=i-p),o>L-p&&(o=L-p),0>o&&(o=0)),{x:b,y:o}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);